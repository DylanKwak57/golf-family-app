<!DOCTYPE html>
<html lang="th">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
    <title>üèåÔ∏è Golf Family - Aeey</title>
    <link rel="stylesheet" href="style.css">
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Poppins:wght@300;400;500;600;700&family=Noto+Sans+Thai:wght@300;400;500;700&display=swap" rel="stylesheet">
</head>
<body class="family-page">
    <div class="background-animation">
        <div class="golf-ball ball-1"></div>
        <div class="golf-ball ball-2"></div>
    </div>
    
    <div class="container">
        <!-- Header -->
        <header class="header glass-card">
            <a href="index.html" class="back-btn">‚Üê</a>
            <div class="header-title">
                <span class="header-icon">üèåÔ∏è</span>
                <span>Golf Family</span>
            </div>
            <div class="user-badge">
                <span>üáπüá≠ Aeey</span>
            </div>
        </header>
        
        <!-- Lesson Info Card -->
        <div class="card glass-card lesson-info">
            <div class="lesson-header">
                <span class="lesson-number" id="lessonNumber">‡∏ö‡∏ó‡∏ó‡∏µ‡πà 107</span>
                <span class="lesson-status status-normal" id="lessonStatus">‚úÖ ‡∏õ‡∏Å‡∏ï‡∏¥</span>
            </div>
            <div class="lesson-details">
                <div class="detail-item">
                    <span class="detail-icon">üìÖ</span>
                    <span class="detail-text" id="lessonDate">‡∏ß‡∏±‡∏ô‡∏û‡∏§‡∏´‡∏±‡∏™‡∏ö‡∏î‡∏µ (16/01/2026)</span>
                </div>
                <div class="detail-item">
                    <span class="detail-icon">‚è∞</span>
                    <span class="detail-text">17:00 - 19:00</span>
                </div>
                <div class="detail-item">
                    <span class="detail-icon">üìç</span>
                    <span class="detail-text" id="lessonLocation">‡πÇ‡∏õ‡∏£‡∏ó‡∏≤‡∏•‡∏±‡∏¢</span>
                </div>
            </div>
        </div>
        
        <!-- Bay Number Section -->
        <div class="card glass-card bay-section">
            <h2 class="section-title">
                <span class="section-icon">üéØ</span>
                <span>‡∏´‡∏°‡∏≤‡∏¢‡πÄ‡∏•‡∏Ç Bay</span>
            </h2>
            <p class="section-desc">‡∏Å‡∏£‡∏≠‡∏Å‡∏´‡∏°‡∏≤‡∏¢‡πÄ‡∏•‡∏Ç Bay (‡πÄ‡∏ä‡πà‡∏ô 62-65)</p>
            
            <div class="input-group">
                <input 
                    type="text" 
                    id="bayNumber" 
                    class="bay-input" 
                    placeholder="62-65"
                    maxlength="20"
                >
                <button class="submit-btn bay-submit" onclick="submitBayNumber()">
                    üì§ ‡∏•‡∏á‡∏ó‡∏∞‡πÄ‡∏ö‡∏µ‡∏¢‡∏ô
                </button>
            </div>
            
            <div class="current-bay" id="currentBay" style="display: none;">
                <span>‡∏•‡∏á‡∏ó‡∏∞‡πÄ‡∏ö‡∏µ‡∏¢‡∏ô‡πÅ‡∏•‡πâ‡∏ß:</span>
                <strong id="currentBayValue">-</strong>
            </div>
        </div>
        
        <!-- Toast Notification -->
        <div class="toast" id="toast">
            <span class="toast-icon">‚úÖ</span>
            <span class="toast-message" id="toastMessage">‡∏ö‡∏±‡∏ô‡∏ó‡∏∂‡∏Å‡πÅ‡∏•‡πâ‡∏ß</span>
        </div>
        
        <footer class="footer">
            <p>¬© 2026 K Family üèåÔ∏è</p>
        </footer>
    </div>
    
    <script src="script.js"></script>
    <script>
        // Aeey ÌéòÏù¥ÏßÄ - ÌÉúÍµ≠Ïñ¥ Í≥†Ï†ï
        currentLang = 'th';
        
        document.addEventListener('DOMContentLoaded', function() {
            loadLessonData();
        });
        
        // ÌÉúÍµ≠Ïñ¥ ÏÉÅÌÉú ÌëúÏãú Ìï®Ïàò
        function updateStatusDisplayTh(status) {
            const statusEl = document.getElementById('lessonStatus');
            if (!statusEl) return;
            
            statusEl.className = 'lesson-status';
            
            switch (status) {
                case 'normal':
                    statusEl.classList.add('status-normal');
                    statusEl.textContent = '‚úÖ ‡∏õ‡∏Å‡∏ï‡∏¥';
                    break;
                case 'cancelled':
                    statusEl.classList.add('status-cancelled');
                    statusEl.textContent = '‚ùå ‡∏¢‡∏Å‡πÄ‡∏•‡∏¥‡∏Å';
                    break;
                case 'changed':
                    statusEl.classList.add('status-changed');
                    statusEl.textContent = 'üîÑ ‡πÄ‡∏õ‡∏•‡∏µ‡πà‡∏¢‡∏ô‡πÅ‡∏õ‡∏•‡∏á';
                    break;
            }
        }
        
        // ÌÜ†Ïä§Ìä∏ Î©îÏãúÏßÄ (ÌÉúÍµ≠Ïñ¥)
        function showToastTh(message, type) {
            const toast = document.getElementById('toast');
            const toastMessage = document.getElementById('toastMessage');
            const toastIcon = toast.querySelector('.toast-icon');
            
            if (!toast || !toastMessage) return;
            
            toastMessage.textContent = message;
            
            if (type === 'success') {
                toastIcon.textContent = '‚úÖ';
                toast.style.background = 'linear-gradient(135deg, #d4a855, #b8942e)';
                toast.style.color = '#0a0a0a';
            } else if (type === 'error') {
                toastIcon.textContent = '‚ùå';
                toast.style.background = 'linear-gradient(135deg, #8b0000, #5c0000)';
                toast.style.color = '#ffffff';
            }
            
            toast.classList.add('show');
            setTimeout(() => toast.classList.remove('show'), 3000);
        }
        
        // ÌÉÄÏÑù Îì±Î°ù (AeeyÏö© - ÌÉúÍµ≠Ïñ¥ Î©îÏãúÏßÄ)
        function submitBayNumber() {
            const input = document.getElementById('bayNumber');
            const value = input.value.trim();
            
            if (!value) {
                showToastTh('‡πÄ‡∏Å‡∏¥‡∏î‡∏Ç‡πâ‡∏≠‡∏ú‡∏¥‡∏î‡∏û‡∏•‡∏≤‡∏î ‡∏Å‡∏£‡∏∏‡∏ì‡∏≤‡∏•‡∏≠‡∏á‡πÉ‡∏´‡∏°‡πà', 'error');
                return;
            }
            
            const isValid = /^[\d\-,\s]+$/.test(value);
            if (!isValid) {
                showToastTh('‡πÄ‡∏Å‡∏¥‡∏î‡∏Ç‡πâ‡∏≠‡∏ú‡∏¥‡∏î‡∏û‡∏•‡∏≤‡∏î ‡∏Å‡∏£‡∏∏‡∏ì‡∏≤‡∏•‡∏≠‡∏á‡πÉ‡∏´‡∏°‡πà', 'error');
                return;
            }
            
            sendToWebhook(CONFIG.webhooks.bayNumber, {
                pageId: currentLessonData?.pageId || null,
                bayNumber: value,
                timestamp: new Date().toISOString()
            })
            .then(() => {
                showToastTh('‡∏•‡∏á‡∏ó‡∏∞‡πÄ‡∏ö‡∏µ‡∏¢‡∏ô‡∏´‡∏°‡∏≤‡∏¢‡πÄ‡∏•‡∏Ç Bay ‡πÅ‡∏•‡πâ‡∏ß!', 'success');
                showCurrentBay(value);
                input.value = '';
            })
            .catch(() => {
                showToastTh('‡πÄ‡∏Å‡∏¥‡∏î‡∏Ç‡πâ‡∏≠‡∏ú‡∏¥‡∏î‡∏û‡∏•‡∏≤‡∏î ‡∏Å‡∏£‡∏∏‡∏ì‡∏≤‡∏•‡∏≠‡∏á‡πÉ‡∏´‡∏°‡πà', 'error');
            });
        }
    </script>
</body>
</html>
